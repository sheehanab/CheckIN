<!DOCTYPE HTML>
<html>
  <head>
    <title>GeoFire Example</title>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-analytics.js"></script>


    <!-- RSVP -->
	 <script src="https://unpkg.com/rsvp@3.1.0/dist/rsvp.min.js"></script>

	 <script> firebase.initializeApp({
	 	apiKey: "<AIzaSyAwS2n8JXnQ5euBxtm1jo5FmOzDM7cQqZA>",
	 	databaseURL: "https://project-d3b37.firebaseio.com",

	 	var usersRef = firebase.database().ref("users").push()
	 	var geoFire = new GeoFire(firebaseRef.child("geofire"));
	 	</script>

	 	<script>
	 	geoFire.set("Kent", [41.840,81.2137]).then(function(){
	 	console.log("location added" }).catch(function(error){
	 	console.log(error);
	 	});
	 	</script>


    <!-- GeoFire -->
    <script src="https://cdn.firebase.com/libs/geofire/2.0.0/geofire.min.js"></script>

    <!-- Custom JS -->
    <script src= "js/geofenceTest.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/fish1.css">


  </head>


  <body>
<!-- Message log -->
    <br><div id="log"></div>

    <style>
	       /* Set the size of the div element that contains the map */
	      #map {
	        height: 400px;  /* The height is 400 pixels */
	        width: 100%;  /* The width is the width of the web page */
	       }
	    </style>
	  </head>
	  <body>
	  <input id="getLocation" type="button" value="Get Location" onclick = "initMap()"


 </script>
	    <h3>Maps</h3>
	    <!--The div element for the map -->
	    <div id="map"></div>
	    <script>
//The appearance of map
	 var map, infoWindow;
	      function initMap() {
	        map = new google.maps.Map(document.getElementById('map'), {
	          center: {lat: -34.397, lng: 150.644},
	          zoom: 6
	        });
	        infoWindow = new google.maps.InfoWindow;

	        // Try HTML5 geolocation.
	        if (navigator.geolocation) {
	          navigator.geolocation.getCurrentPosition(function(position) {
	            var pos = {
	              lat: position.coords.latitude,
	              lng: position.coords.longitude
	            };

	            infoWindow.setPosition(pos);
	            infoWindow.setContent('Location found.');
	            infoWindow.open(map);
	            map.setCenter(pos);
	          }, function() {
	            handleLocationError(true, infoWindow, map.getCenter());
	          });
	        } else {
	          // Browser doesn't support Geolocation
	          handleLocationError(false, infoWindow, map.getCenter());
	        }
	      }

	      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
	        infoWindow.setPosition(pos);
	        infoWindow.setContent(browserHasGeolocation ?
	                              'Error: The Geolocation service failed.' :
	                              'Error: Your browser doesn\'t support geolocation.');
	        infoWindow.open(map);
      }
	    </script>
	    <!--Load the API from the specified URL
	    * The async attribute allows the browser to render the page while the API loads
	    * The key parameter will contain your own API key (which is not needed for this tutorial)
	    * The callback parameter executes the initMap() function
	    -->
	    <script async defer
	    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwS2n8JXnQ5euBxtm1jo5FmOzDM7cQqZA&callback=initMap">
    </script>
  </body>
</html>


